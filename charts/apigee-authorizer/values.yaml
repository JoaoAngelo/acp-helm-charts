## apigee-authorizer image parameters
##
image:
  ## Image repository
  ##
  repository: docker.cloudentity.io/apigee-authorizer

  ## Image pull policy
  ##
  pullPolicy: IfNotPresent

  ## Image tag (immutable tags are recommended, default is the chart appVersion)
  ##
  tag: ""

## apigee-authorizer image registry secret names as an array
##
imagePullSecrets:
  - name: docker.cloudentity.io

## String to fully override apigee-authorizer.fullname
##
# fullnameOverride: ""

## Service account to use by the apigee-authorizer
##
serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

## Issuer URL of your tenant's ACP system workspace
##
## When using apigee-authorizer in single-tenant mode, this should point
## to the system workspace of your tenant.
## i.e. "http://authz.cloudentity.io/yourtenant/system"
##
## If you're using multi-tenant apigee-authorizer this should point
## to the `system` workspace of your `system` tenant.
## i.e. "http://yourdomain.com/system/system"
##
issuerURL: "https://acp.acp-system:8443/default/system"

## Vanity Domain
## If the issuerURL uses a vanity domain, you will need to specify the tenantID,
## and if the domain is per-server, then you must also specify the terverID.
## There is no harm in specifying them, even if you do not use a vanity domain.
tenantID: "default"
serverID: "system"

## Credentials for your ACP apigee-authorizer
##
##
clientCredentials:
  # Specifies whether a kubernetes secret should be created from the provided clientID and clientSecret.
  # For production setup please create secret manually and use name
  # parameter to integrate with apigee-authorizer
  create: true

  # The name of the client secret to use
  # If not set and create is true, a name is generated using the fullname template
  name: ""

  # Default dummy values
  # You can provide credentials generated by ACP for your apigee gateway.
  clientID: "c7c7mgmvd3ibf6k124n0"
  clientSecret: "TuIEmSWHtU-0ftOO7445nccomqu71V4Wcv4SW3fzviM"

## Additional apigee-authorizer environment variables
## To specify Apigee-X or Apigee Edge:
##
##   APIGEE_PRODUCT_NAME: ApigeeX
##
## To specify the path to directory with apigee shared flow definition:
##
##   APIGEE_SHARED_FLAW_DATA: /data
##
## To serve HTTPS from the apigee-authorizer, specify a cert and key:
##
##   HTTP_SERVER_CERTIFICATE_CERT_PATH: /data-apigee/cert.pem
##   HTTP_SERVER_CERTIFICATE_KEY_PATH:  /data-apigee/cert-key.pem
##
## To connect via TLS to ACP, when ACP uses a self-signed cert:
##
##   HTTP_CLIENT_INSECURE_SKIP_VERIFY: true
##
## To set the logging level:
##
##   LOGGING_LEVEL: trace | debug | info | warning | error | fatal | panic
##
## ApigeeX specific Environment Variables
## To specify the Google Service Account access key:
##
##   GOOGLE_APPLICATION_CREDENTIALS: /data/apigee/servicaccount-key.json
##
## Apigee Edge specific Environment Variables
## To specify the username, password, and organization ID:
##
##  APIGEE_APIGEE_EDGE_USERNAME: ""
##  APIGEE_APIGEE_EDGE_PASSWORD: ""
##  APIGEE_APIGEE_EDGE_ORGANIZATION_ID: ""
##
extraEnv:
  HTTP_CLIENT_INSECURE_SKIP_VERIFY: true
  # HTTP_SERVER_CERTIFICATE_CERT_PATH: /data-apigee/cert.pem
  # HTTP_SERVER_CERTIFICATE_KEY_PATH: /data-apigee/cert-key.pem
  APIGEE_PRODUCT_NAME: "ApigeeX"
  APIGEE_SHARED_FLOW_DATA: /data
  LOGGING_LEVEL: info

## Environment variables needed for ApigeeX
##
extraEnvApigeeX:
  GOOGLE_APPLICATION_CREDENTIALS: /data-apigee/serviceaccount-key.json

## Environment variables needed for ApigeeEdge
##
extraEnvApigeeEdge:
  APIGEE_APIGEE_EDGE_USERNAME: ""
  APIGEE_APIGEE_EDGE_PASSWORD: ""
  APIGEE_APIGEE_EDGE_ORGANIZATION_ID: ""

service:
  ## apigee-authorizer service type
  ##
  type: ClusterIP

  ## apigee-authorizer service HTTP port
  ##
  port: 8442
  name: http

ingress:
  ## Enables the Ingress for apigee-authorizer.
  ##
  enabled: false

  ## Ingress annotations
  ##

  ## Ingress hostnames with paths
  ##
  hosts:
    - host: apigee-authorizer.acp-system
      paths:
        - path: /authorize

  ## Ingress TLS configuration
  ## Secrets must be manually created in the namespace
  tls: []
  #  - secretName: apigee-authorizer-tls
  #    hosts:
  #      - apigee.domain.com


## Additional apigee-authorizer ConfigMap entries
##
data:
  # Example self-signed cert used to serve HTTPS.
  cert.pem: |
    -----BEGIN CERTIFICATE-----
    MIIEOjCCAyKgAwIBAgIUEfz65m4SgrhALNdiivOb7Gc/w4gwDQYJKoZIhvcNAQEL
    BQAwVzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcT
    B1NlYXR0bGUxFDASBgNVBAoTC0Nsb3VkZW50aXR5MQswCQYDVQQLEwJDQTAeFw0y
    MTAxMjAwOTQ4MDBaFw0yNjAxMTkwOTQ4MDBaMIGLMQswCQYDVQQGEwJVUzEUMBIG
    A1UECBMLV2FzaGluZ2h0b24xEDAOBgNVBAcTB1NlYXR0bGUxFDASBgNVBAoTC0Ns
    b3VkZW50aXR5MRYwFAYDVQQLEw1BdXRob3JpemF0aW9uMSYwJAYDVQQDEx1hdXRo
    b3JpemF0aW9uLmNsb3VkZW50aXR5LmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEP
    ADCCAQoCggEBALrRAQwTTx69xYh0/dHOfg/mZot4ypLgcOh8YI/vWLJTNb6bJ0Jz
    akvZ8HahPT145fVTetJi583vAaYeQO5L9pnS7MXETLZeyYq7929HBbYfhggkrFS7
    ywVqKuStxS1ypQSnnF1F3/T6ft6AgNlSxWfIiCrOubMDMkEacpoMyXWSOthNSJvU
    sZHSZGMXc1LXlP69aVXtW5IvmZEFMjVMm4P8dQ2OlmoYeDznE6LbcsItORpeU37T
    oSdNgwGDIeRmNLMIup14AXTTRc1AokBzvsFN2dsPE+h4nFJRyR99aw+40DlqKB0n
    cPPaes09rgsccLACXfr0Aek/A8RPp0ZyJSMCAwEAAaOByDCBxTAOBgNVHQ8BAf8E
    BAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQC
    MAAwHQYDVR0OBBYEFDH9o4OGiSL0cWjAbQCt5onLDUTUMB8GA1UdIwQYMBaAFMpZ
    B4RkFEn9Q7U/LsR9No6pW6NtMEYGA1UdEQQ/MD2CCWxvY2FsaG9zdIILdGVzdC1k
    b2NrZXKCHWF1dGhvcml6YXRpb24uY2xvdWRlbnRpdHkuY29thwR/AAABMA0GCSqG
    SIb3DQEBCwUAA4IBAQCJStJOdpbP0zNSTSbubB+Om6O6etnIBiqNaqmsqWGGzIdp
    OUBw6LFNbRDVrOOgHpb38Oja8VjpSd3HCnKKnjz7RgUBwP+ffLntvbZYx+5BIC9v
    MWGmOepJlKiBQk75HNpRbQbsqkVL8F0n4hxbn5tZ5qk8OtqahSLSxW75t5bHT5BJ
    bzCSl7+DLC5Sg1eYRfissLffmCVXutTYTU6YEZVd5LBEUAyd+A3c27u9/uD2suID
    A6jrG49GVNwUJwuXNF/YJPD+yYCpUMV5OGMq9pl11iZA8ohE2zSOMGLjJXediYns
    0a+v2EhtAFuMkn6c1NsjNqMddKQPfstqfBwU9ZJQ
    -----END CERTIFICATE-----
  # Example private key associated with cert.pem.
  cert-key.pem: |
    -----BEGIN RSA PRIVATE KEY-----
    MIIEpAIBAAKCAQEAutEBDBNPHr3FiHT90c5+D+Zmi3jKkuBw6Hxgj+9YslM1vpsn
    QnNqS9nwdqE9PXjl9VN60mLnze8Bph5A7kv2mdLsxcRMtl7Jirv3b0cFth+GCCSs
    VLvLBWoq5K3FLXKlBKecXUXf9Pp+3oCA2VLFZ8iIKs65swMyQRpymgzJdZI62E1I
    m9SxkdJkYxdzUteU/r1pVe1bki+ZkQUyNUybg/x1DY6Wahh4POcTottywi05Gl5T
    ftOhJ02DAYMh5GY0swi6nXgBdNNFzUCiQHO+wU3Z2w8T6HicUlHJH31rD7jQOWoo
    HSdw89p6zT2uCxxwsAJd+vQB6T8DxE+nRnIlIwIDAQABAoIBAH/g46OdcBJt+tJe
    qwQ8IiTGJTmhlKEXy5II2ZyNTRy8QtTXpfchxAhqBeVel+oFYPweibuMAnr/+RP6
    L54vF33SWUtDBPPtTG6QHl7osesqBvh6ChDyf5WUSApDPO7QRE88YJekZhpugfvS
    4OBifUh+h18uJQV50aOo8/updxnns9gqPThaheQpcL1a36UAhS62drcIG8jLk359
    jZ5/A1P0QMoBOJjwyHB1qqckN5l3BOuPPAuXyFsWGv8ax0j6EdUKTKvUQ7jYdoeF
    5+41uW04vC7n5EQewHpNSWp9jgg6t940cJRatiaIKO4LK/KyN4sVe1Ztg9H2Ii03
    gmevpdkCgYEA7I8RSVqlu0Uw5wYRPdJEB56/u+Ac34KDAkyDztCRjcOThrhLxsF0
    iOlLWHe3ReajWYfMeHtmORpx70vnjoAKmkIe4ii9+eWOQA5slQckdnB5W4xiRtL6
    I142R8S7VSfWBguHLeC+Pq7l4oXVVvG35wfRqAKBprJdLqEEApPhZFcCgYEAyitp
    YPmuqT79h9jwD9/LWu8JxeAlGJ66kIK9i7Q68YWLOoZk3rNAl/s1RR5x7wYJg7Sr
    xtpuyDHA4C/ann4ahYU19e9iBT91DVLhouNTbW/a/xr9nC9MfcxOS33zTSEFXW+y
    t/1+s4sal4ZGkyfCwyjq71JNZkVZM1+O3kZwJhUCgYA7Ubzx+gspJLaYmArmx71L
    c+F8iTx0R9P2VZ2P1PlK5UovNDO8SXKhim7cZljM7IL1xnndlIQTua/sY8pTD4SZ
    Hg+EgtbwvUGoinVsAXiBQr8L1+4k+G7FQ7C02n5nYi/nICjrtjm+mjkHTqwquz50
    bp+CU+6TEJMRSEsrIk4YzQKBgQChzHB/3hO8+96oNCScb70uP5SQury1oYMqWJge
    ENYDqZ8t7ZUY7ljJyZBuitkgNLK0p4m6keKLcdYtFd9fbQkIxv3SoAzQqmKhkS1n
    0YtZUGXyOMWzk98h5rrajCiGF+FVUCm2OriGNNPJZPtiljW3Py4W7sVnDiU/ikCq
    /7CNqQKBgQCL1lk7yQ572D8Sw+Z+sOc4Tk5aO9i394RE2DX3X810ZoAN4Q/1X61J
    64/OUsD3B2FF+WhkjsJAlLBYkVbJUfjY4OZywpnScLjJYTysYlrAArz+5RYEwYUi
    ulKp5/FbjejQNCJr6FD7xouVXUa1yNP8DMNEnhYI7rDGLqIMwEaVRw==
    -----END RSA PRIVATE KEY-----
  # Example Google Service account access key. Needed only for ApigeeX
  serviceaccount-key.json: |
    {
      "type": "service_account",
      "project_id": "your-project-id",
      "private_key_id": "acc3379a663ed9cc622c091405a83fd00d264b89",
      "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANCgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDOnBQKcw/UqMSl\nCyP3p9TsoLAaLdXwCpaLkRRawDJJb7Hh6o8580HCxX+qb1EH7HY+G36ySb0bjk3+\nw8YOlz+ngsh1xXLpIwoN4QaQJAcjtpRHNrp8af807rIC6tZ//uLiSeRag6bgjytQ\nhkF3rb1jTG7tc57W/22ixlX+pUIDWBsKq/SfeVmNQSduuEz6CNhecSnf9J+pbqSx\n76gU5yUUE6lHtmH7b/duzqom2Ku/5FZ8JqaplVgt+88H++gmSmRAp2pLr+832E/X\nczX+acYoWwxofTRVj+AfgGwadkpeVIshbaSec6cBfIWiOr1cxtapMTKvl6q+zAaa\nTZLHAcXpAgMBAAECggEAGCr/eKPyOn3l58j0c34rPOVEiEFrlL1GVCvbucxg7YBu\nakbz61NSUlBkMUl9bOv6/mOct8oCoBgutTINJ0yHtoZowMcAnLcbsFkt2XtPZvzu\n3iAvowlKoDRaOBdkkTsdats6JiDfisXQiyYzPwbAoD6S/L1xO4TMPDXPXh7SaJ3G\nVIPR9qigJRY0WDOVRh0FwfpDIUarpXeXZeFGwhxUyvGHROYmPYb5eaGtl8X2c6wF\nrv83ieXPGTegDMb+buBavEoQcfkvY8xmhTsfcIAloTuaKBAQWzQtWGlwQi1tHNRh\nD9iHXoH3YUjAjrt4zYAEOveI2hwMndxQm/wqEn7wwQKBgQDr6MHT9dRHrt6/Dlcw\n0NJLPPi+xUOf8mUK/KVwN+QN8t8osR7JQoccxxXQudQj3LBaav45JErHp2rSbJqF\n4ZN2L1rpiAYhNnHq/E889/iNI558nxvi5CChGmtlm69F8cIbd4srDxeRMYCCnyhS\ndy4+2llYAWE7ujY3uVEOxfeCKQKBgQDgNIn9++ttr5JPHghgIaO4MAzbo77jme1O\n1yyrJn762lD5z0bGa3iJ45iRHQ4B0NiED+Rsst2+Omm5O/xbWQVVpD3oAxgprhK2\nGTGVVSX0BuuXjKE1BCLPg/OuJxASq6UCx71gKsVd3Ql0LfG6aYttnqwdVFdPfj2X\nZucMyZodwQKBgQDIC8pBiVaHqtwsO2boeEu7jWqJqxGbUpsoY/GOZXa39VoTUY7/\nr7CPUKtJIiuodX3+Tnhh0EqxX2CQK5QlL5IySBnZqoU4KMkVMPuogcZ9ONUubGXj\nUvvwYUztDsXklAu76vVSgCvF7apCGeDBfVrz5YiZviHL2i4btsPruSgXcQKBgGRd\n4LA8SCYwBJU6YpF2Pa5EhF0GrnuA+sTienKbpxhxBvLtoUdN8QX5RuEfWpfhgCuO\nWbl3UODJkW6EtfHGpiaygawNRpHSBTpTiOjK11SojGqpX7k2AsdW0I1Tm1RgVlwq\nQlJ8kyHzwzmpH59NhEcsUuxGR1eksbnHLQOCdGWBAoGAfVGtBQX8qHmq+aZ+lKqf\nGmFumioYjC11ywBQaix/Tjd17cYraTqFe/xlSPjlTAjMCYh4vn8GzE/4ThglPyIU\nS3oMPvUeNST2KRXp5CQtVGMgoQ5IzbTw2fTXdVrZdAesjQ15+tgq+YxFKw6EkwiM\nYQP1OuZDDhV7Cu4vAgqumUo=\n-----END PRIVATE KEY-----\n",
      "client_email": "apigeesa@your-project-id.iam.gserviceaccount.com",
      "client_id": "109721414123974721825",
      "auth_uri": "https://accounts.google.com/o/oauth2/auth",
      "token_uri": "https://oauth2.googleapis.com/token",
      "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
      "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/apigeesa%40your-project-id.iam.gserviceaccount.com"
    }
